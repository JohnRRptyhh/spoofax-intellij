buildscript {
    repositories {
        maven { url "http://dl.bintray.com/jetbrains/intellij-plugin-service" }
    }
}

plugins {
    id "java"
    id "idea"
    id "eclipse"
    id "maven"
    id "org.jetbrains.intellij" version "0.1.10"
    id "com.github.johnrengelman.shadow" version "1.2.3"
}
apply from: '../org.metaborg.intellij-common/common.gradle'

task(printAllDependencies, description: 'Prints all runtime dependencies.') << {
    def jars = configurations.runtime.resolve().collect { it.name }//.findAll { !it.startsWith('slf4j') }
    def result = [ 'org.metaborg.jps-2.1.0-SNAPSHOT.jar' ] + jars.sort()
    println result.join(';')
}

dependencies {
    compile     project(":org.metaborg.intellij-common")
    compile     "org.metaborg:org.metaborg.jps-deps:$metaborgVersion"
}

uploadArchives {
    repositories {
        mavenDeployer {
            mavenLocal()
        }
    }
}
